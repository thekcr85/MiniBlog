@model IEnumerable<AuthorListItemViewModel>

<div class="list-group">
    @foreach (var author in Model)
    {
        <a href="@Url.Action("Details", "Author", new { id = author.Id })" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">@author.FullName</h5>
                <small>@author.CreatedAt.ToString("yyyy-MM-dd")</small>
            </div>
            <p class="mb-1"><strong>Email:</strong> @author.Email</p>
            <p class="mb-1"><strong>Posts:</strong> <span class="badge bg-info">@author.PostCount</span></p>
            @if (author.Posts != null && author.Posts.Any())
            {
                <div class="mt-2 small">
                    <strong>Posts:</strong>
                    <ul class="mb-0 ps-3">
                        @foreach (var p in author.Posts.Take(3))
                        {
                            <li><a href="@Url.Action("Details", "BlogPost", new { id = p.Id })">@p.Title</a></li>
                        }
                    </ul>
                </div>
            }
        </a>
    }
</div>
